# Getting started with ICICLE

## ICICLE repository overview

The ICICLE repository has three main sections, each section is independent from the other.

- ICICLE core
- ICICLE Rust bindings
- ICICLE Golang bindings

### ICICLE Core

[ICICLE core](https://github.com/ingonyama-zk/icicle/tree/main/icicle) contains all the low level CUDA code implementing primitives such as [points](https://github.com/ingonyama-zk/icicle/tree/main/icicle/primitives) and [MSM](https://github.com/ingonyama-zk/icicle/tree/main/icicle/appUtils/msm). There also exists higher level C++ wrappers to expose the low level CUDA primitives ([example](https://github.com/ingonyama-zk/icicle/blob/main/icicle/curves/bn254/msm.cu)).

ICICLE Core would typically be compiled into a shared library and used in a third party language such as Rust, Golang or Python.

### ICICLE Rust and Golang bindings

- [ICICLE Rust bindings](https://github.com/ingonyama-zk/icicle/tree/main/src)
- [ICICLE Golang bindings](https://github.com/ingonyama-zk/icicle/tree/main/goicicle) 

These are autogenerated bindings which allow you to easily use ICICLE in a Rust or Golang project. Setting up Golang bindings requires a bit of extra steps compared to the Rust bindings which utilize the `cargo build` tool.


## Running ICICLE

This guide assumes that you have a Linux or Windows machine with a Nvidia GPU installed. If you dont have access to a Nvidia GPU you can access one for free on [google colab](www.google.com).

### Prerequisites

- NVCC (version 12.0 or newer)
- cmake 3.18 and above
- GCC - version 9 or newer is recommended.
- Any Nvidia GPU
- Linux or Windows operating system.


If you don't wish to install these prerequisites you can follow this tutorial from within our [ZK-Container](https://github.com/ingonyama-zk/icicle/blob/main/Dockerfile) (docker container). To learn more about using ZK-Containers read this.

### Setting up ICICLE and running tests

The objective of this chapter is to make sure you can run the ICICLE Rust and Golang tests, achieving this will make sure you know how to setup ICICLE and run a ICICLE program. For the sake of simplicity we will be using the ICICLE docker container as our environment, you of course may install the prerequisites on your machine and follow the same commands in your terminal.


#### Setting up our environment

Lets begin by cloning the ICICLE repository:

```
git clone https://github.com/ingonyama-zk/icicle
```

We wil proceed to build the docker image [found here](https://github.com/ingonyama-zk/icicle/blob/main/Dockerfile):

```
docker build -t icicle-demo .
docker run -it --runtime=nvidia --gpus all --name icicle_container icicle-demo
```

- `-it` runs the container in interactive mode with a terminal. 
- `--gpus all` Allocate all available GPUs to the container. You can also specify which GPUs to use if you don't want to allocate all.
- `--runtime=nvidia` Use the NVIDIA runtime, necessary for GPU support.

To read more about these settings reference this [article](https://developer.nvidia.com/nvidia-container-runtime).

If you accidentally close your terminal and want to reconnect just call:

```
docker exec -it icicle_container bash
```


#### ICICLE Core
#### ICICLE Rust
#### ICICLE Golang